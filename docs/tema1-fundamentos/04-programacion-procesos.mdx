---
sidebar_position: 4
title: Programación con Procesos y Sincronización
---

# Programación con Procesos y Sincronización
En esta sección, veremos cómo crear y gestionar procesos desde una aplicación, así como los métodos de comunicación y sincronización entre ellos.

Vamos a utilizar Kotlin como lenguaje de programación. Existen otras alternativas, como Python o C/C++, pero Kotlin nos permite ilustrar los conceptos de manera clara y concisa. Además, viniendo de Java, la sintaxis y las herramientas son familiares.  

## Creación y Gestión de Procesos
En Kotlin, podemos crear y gestionar procesos utilizando la clase `ProcessBuilder`. Aquí hay un ejemplo básico:
```kotlin
import java.io.File
import java.io.InputStreamReader
import java.io.BufferedReader
import java.lang.ProcessBuilder
import java.util.concurrent.TimeUnit
import kotlin.system.exitProcess

fun main() {
    // Crear un proceso para ejecutar el comando 'ls -l'
    val processBuilder = ProcessBuilder("ls", "-l")
    processBuilder.directory(File("/")) // Establecer el directorio de trabajo
    processBuilder.redirectErrorStream(true) // Redirigir errores al flujo de salida

    try {
        val process = processBuilder.start() // Iniciar el proceso

        // Leer la salida del proceso
        val reader = BufferedReader(InputStreamReader(process.inputStream))
        var line: String?
        while (reader.readLine().also { line = it } != null) {
            println(line)
        }

        // Esperar a que el proceso termine
        val exitCode = process.waitFor()
        println("Proceso terminado con código de salida: $exitCode")
    } catch (e: Exception) {
        e.printStackTrace()
    }
}
```

En este ejemplo, creamos un proceso que ejecuta el comando `ls -l` en el directorio raíz. Utilizamos `ProcessBuilder` para configurar y lanzar el proceso, y luego leemos su salida.    

La gestión de procesos incluye la capacidad de esperar a que un proceso termine, obtener su código de salida y manejar errores.

:::tip La clase ``ProcessBuilder``
La clase `ProcessBuilder` es una herramienta poderosa para crear y gestionar procesos en Java y Kotlin. Permite configurar el entorno del proceso, redirigir la entrada y salida, y manejar errores de manera eficiente.
:::