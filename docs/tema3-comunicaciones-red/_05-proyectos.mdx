---
sidebar_position: 5
title: Proyectos - Comunicaciones en Red
---

# Proyectos: Programaci칩n de Sockets y Red en Kotlin

Estos proyectos tienen como objetivo consolidar los conocimientos sobre la comunicaci칩n en red utilizando Sockets (TCP y UDP) en Kotlin. Se busca que los alumnos dise침en sus propios protocolos de comunicaci칩n, gestionen la concurrencia en el servidor y creen interfaces de usuario reactivas.

:::info Nota importante
Se proponen 4 proyectos. Dos de ellos deben desarrollarse como aplicaciones **Kotlin Multiplatform (KMP) para Escritorio (Windows)**. Los otros dos deben ser **KMP para Escritorio (Windows) y Android**.
:::

---

## Proyecto 1: Pizarra Colaborativa en Tiempo Real 游꿛

**Plataformas:** Kotlin Multiplatform (Solo Escritorio Windows)

### Descripci칩n

Desarrolla una aplicaci칩n de pizarra compartida donde m칰ltiples usuarios pueden dibujar simult치neamente en un lienzo com칰n. La aplicaci칩n debe permitir conectarse a un servidor central (que puede ser una aplicaci칩n de consola separada o integrada) y ver los trazos de otros usuarios en tiempo real.

### Funcionalidades obligatorias

#### Comunicaci칩n y Red
1.  **Protocolo de Dibujo:** Dise침ar un protocolo de texto o binario sobre TCP para transmitir las coordenadas de dibujo, cambios de color y grosor del pincel.
    - Ejemplo: `DRAW:X1,Y1,X2,Y2,COLOR,WIDTH`
2.  **Sincronizaci칩n:** Cuando un usuario entra, debe recibir el estado actual de la pizarra (o al menos el historial reciente) para no ver un lienzo en blanco.
3.  **Gesti칩n de Usuarios:** Lista de usuarios conectados visible en la interfaz.

#### Interfaz Gr치fica (Compose for Desktop)
1.  **Lienzo (Canvas):** 츼rea interactiva que capture eventos de rat칩n (click, drag) para dibujar.
2.  **Barra de Herramientas:** Selector de color, grosor de pincel, herramienta de borrado y bot칩n para limpiar toda la pizarra (solo admin o votaci칩n).
3.  **Chat Integrado:** Un peque침o panel lateral para chatear con los otros dibujantes.

#### Requisitos T칠cnicos
- **Sockets TCP:** Para garantizar que todos los trazos llegan y en orden.
- **Concurrencia:** El cliente debe tener un hilo dedicado a escuchar los mensajes del servidor para pintar los trazos de otros usuarios sin congelar la interfaz.

---

## Proyecto 2: Dashboard de Monitorizaci칩n de Sistemas (Agentes) 游늵

**Plataformas:** Kotlin Multiplatform (Solo Escritorio Windows)

### Descripci칩n

Crea un sistema de monitorizaci칩n compuesto por un **Servidor Central (Dashboard)** y m칰ltiples **Agentes**. El Dashboard es la aplicaci칩n gr치fica que recibe datos. Los "Agentes" pueden ser peque침os programas de consola (simulados) que env칤an datos aleatorios o reales sobre el estado de una m치quina (CPU, RAM, Disco).

### Funcionalidades obligatorias

#### Comunicaci칩n y Red
1.  **Protocolo H칤brido:**
    - **UDP (Heartbeat):** Los agentes env칤an un "latido" cada segundo para indicar que est치n vivos y enviar m칠tricas r치pidas (ej. % CPU).
    - **TCP (Alertas/Comandos):** Si un valor supera un umbral, el agente conecta por TCP para enviar una alerta cr칤tica. El servidor puede enviar comandos por TCP al agente (ej. "Reiniciar servicio").
2.  **Descubrimiento:** El servidor debe detectar autom치ticamente cuando un nuevo agente empieza a transmitir.

#### Interfaz Gr치fica (Compose for Desktop)
1.  **Panel de Control:** Grid o lista con las "tarjetas" de cada m치quina monitorizada.
2.  **Visualizaci칩n de Datos:** Gr치ficos en tiempo real (pueden ser simples barras o l칤neas) que se actualicen con los paquetes UDP recibidos.
3.  **Log de Alertas:** Panel inferior que muestre las alertas cr칤ticas recibidas por TCP.
4.  **Indicadores de Estado:** Si un agente deja de enviar latidos por 5 segundos, debe marcarse como "Offline" en la UI.

#### Requisitos T칠cnicos
- **DatagramSocket (UDP):** Para la recepci칩n masiva de m칠tricas sin bloquear.
- **ServerSocket (TCP):** Para escuchar alertas y gestionar la conexi칩n persistente de control.
- **Corrutinas:** Uso intensivo para manejar la actualizaci칩n de la UI en base a los flujos de datos de red.

---

## Proyecto 3: Sistema de Chat Corporativo Seguro 游눫

**Plataformas:** Kotlin Multiplatform (Escritorio Windows + Android)

### Descripci칩n

Implementa una aplicaci칩n de mensajer칤a instant치nea tipo "Slack" o "Discord" simplificado. Debe permitir la comunicaci칩n entre usuarios de PC y m칩vil a trav칠s de un servidor central.

### Funcionalidades obligatorias

#### Comunicaci칩n y Red
1.  **Autenticaci칩n Simple:** Protocolo de login (Usuario/Contrase침a) contra el servidor.
2.  **Salas y Privados:** Soporte para una sala general ("#general") y mensajes directos entre usuarios.
3.  **Transferencia de Archivos:** Capacidad para enviar im치genes o peque침os archivos entre clientes usando flujos de bytes sobre el socket.

#### Interfaz Gr치fica
- **Escritorio:** Dise침o de tres columnas (Lista de servidores/salas, Lista de mensajes, Lista de usuarios conectados). Soporte para arrastrar y soltar archivos para enviar.
- **Android:** Dise침o adaptativo. Pantalla principal con lista de chats. Al entrar en uno, vista de conversaci칩n. Uso de `LazyColumn` para los mensajes.

#### Requisitos T칠cnicos
- **Modelo Cliente-Servidor:** El servidor (consola) gestiona todas las conexiones.
- **Serializaci칩n:** Uso de JSON (con `kotlinx.serialization`) para estructurar los mensajes enviados por el socket (ej. `{"type": "MSG", "from": "Dani", "content": "Hola"}`).
- **Manejo de Desconexiones:** Si se pierde la red (com칰n en Android), la app debe intentar reconectar autom치ticamente.

---

## Proyecto 4: Juego Multijugador en Red (Batalla Naval) 游뚹

**Plataformas:** Kotlin Multiplatform (Escritorio Windows + Android)

### Descripci칩n

Desarrolla el cl치sico juego de "Hundir la Flota" (Batalla Naval) para jugar online contra otro oponente. La l칩gica del juego debe estar validada en el servidor para evitar trampas.

### Funcionalidades obligatorias

#### Comunicaci칩n y Red
1.  **Lobby (Sala de Espera):** Al conectar, el jugador ve una lista de partidas abiertas o un bot칩n "Buscar Partida" para ser emparejado.
2.  **Protocolo de Juego:** Comandos estrictos por TCP.
    - `PLACE_SHIPS:A1,A2,B1...`
    - `ATTACK:C4`
    - `RESULT:HIT` / `RESULT:MISS` / `RESULT:SUNK`
3.  **Turnos:** El servidor debe gestionar de qui칠n es el turno y notificar a los clientes.

#### Interfaz Gr치fica
- **Tableros:** Dos cuadr칤culas: "Mi Flota" y "Radar" (disparos realizados).
- **Feedback Visual:** Animaciones o indicadores claros de "Tocado", "Agua", "Hundido".
- **Chat de Partida:** Chat simple integrado en la pantalla de juego para hablar con el rival.

#### Requisitos T칠cnicos
- **Estado del Juego:** El cliente solo debe pintar lo que el servidor le dice. No debe contener l칩gica de "d칩nde est치n los barcos del rival" para evitar hacks.
- **KMP:** Compartir la l칩gica de renderizado del tablero y el cliente de red entre Android y Desktop.
